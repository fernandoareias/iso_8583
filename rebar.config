{erl_opts, [
    debug_info,
    warn_export_vars,
    warn_shadow_vars,
    warn_obsolete_guard,
    warnings_as_errors
]}.

{deps, [
    {lager, "3.9.2"}
]}.



{shell, [
    {apps, [iso_8583]}
]}.

{plugins, [                       
    {rebar3_proper, "0.12.1"},    
    {rebar3_lint, "4.0.0"}
]}.

{project_plugins, [rebar3_format]}.

{alias, [
    {test, [
        {format, "--verify"},            % Verifica formatação
        eunit,                           % Roda testes unitários
        ct,                              % Roda testes de integração
        cover                            % Gera relatório de cobertura
    ]},
    
    {unit, [eunit]},
    
    {integration, [ct]}
]}.

{cover_enabled, true}.
{cover_opts, [verbose]}.

%% EDoc configuration
{edoc_opts, [
    {preprocess, true},
    {includes, ["include"]},
    {dir, "doc"}
]}.

%% Dialyzer configuration
{dialyzer, [
    {warnings, [
        error_handling,
        race_conditions,
        unmatched_returns,
        underspecs
    ]},
    {plt_extra_apps, [kernel, stdlib]}
]}.

%% Diretórios do projeto
{src_dirs, ["src", "src/converters", "src/fields", "src/marshallers", "src/utils"]}.
{extra_src_dirs, ["test"]}.

%% Configuração de testes EUnit
{eunit_opts, [
    verbose,
    {report, {eunit_surefire, [{dir, "_build/test/logs"}]}}
]}.


%% Configuração de testes Common Test
{ct_opts, [
    {dir, "test/integration"},           % Diretório dos CT suites
    {logdir, "_build/test/ct_logs"},     % Logs do CT
    {verbose, true}
]}.

%% Caminhos dos testes EUnit
{eunit_tests, [
    {dir, "test/unit"}                   % Diretório dos testes unitários
]}.

